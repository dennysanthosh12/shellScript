package com.EIS.TCS.apiadmin.Dto;
import lombok.Data;

@Data
public class IntegrationNodeWrapper {

	private String name;
	private PropertiesWrapper properties;
	private NodeChildrenWrapper children;
	
}

package com.EIS.TCS.apiadmin.Dto;
import lombok.Data;

@Data
public class NodeChildrenWrapper {

	private ServerWrapper servers;
	
}

package com.EIS.TCS.apiadmin.Dto;

import java.util.ArrayList;

import lombok.Data;

@Data
public class ServerWrapper {

	private boolean hasChildren;
	private ArrayList<ChildrenWrapper> children;
}


package com.EIS.TCS.apiadmin.Dto;
import lombok.Data;

@Data
public class ChildrenWrapper {

	private String name;
	private boolean hasChildren;
	private ChildActivewrapper active;
}

package com.EIS.TCS.apiadmin.Dto;

import com.fasterxml.jackson.annotation.JsonProperty;

import lombok.Data;

@Data
public class ChildActivewrapper {

	@JsonProperty("isRunning")
	private boolean running;
	private String state; 
}


package com.EIS.TCS.apiadmin.Model;

import java.time.LocalDateTime;

import com.EIS.TCS.apiadmin.Dto.IntegrationNodeWrapper;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import lombok.Data;
import lombok.NoArgsConstructor;

@Entity
@Data
@NoArgsConstructor
public class IntegrationStatus {

	@Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(name = "node_name", length = 50, nullable = false)
    private String nodeName;
    
    @Column(name = "server_ip", length = 15, nullable = false)
    private String serverIp;

    @Column(name = "status", length = 20, nullable = false)
    private String status;

    @Column(name = "last_checked", nullable = false)
    private LocalDateTime lastChecked;

    
    private IntegrationNodeWrapper nodeWrapper;   

	public IntegrationStatus(String nodeName,String serverIp, String status, LocalDateTime lastChecked, IntegrationNodeWrapper response) {
		this.nodeName = nodeName;
		this.serverIp = serverIp;
		this.status = status;
		this.lastChecked = lastChecked;
		this.nodeWrapper = response;
	}
    
    
    
}
