package com.EIS.TCS.apiadmin.Model;

import java.time.LocalDateTime;
import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import lombok.Data;
import lombok.NoArgsConstructor;

@Entity
@Data
@NoArgsConstructor
public class IntegrationStatus {

	@Id
    private int id;

    @Column(name = "node_name", length = 50, nullable = false)
    private String nodeName;
    
    @Column(name = "server_ip", length = 15, nullable = false)
    private String serverIp;
    
    @Column(name = "port", length = 15, nullable = false)
    private int port;

    @Column(name = "status", nullable = false)
    private String status;

    @Column(name = "last_checked", nullable = false)
    private LocalDateTime lastChecked;

    @Column(name = "server_Details", columnDefinition = "TEXT")
    private String serverDetails ;   // JSON as String

	public IntegrationStatus(String nodeName,String serverIp,Integer port, String status, LocalDateTime lastChecked, String response) {
		this.id= (nodeName+serverIp).hashCode();
		this.nodeName = nodeName;
		this.serverIp = serverIp;
		this.port=port;
		this.status = status;
		this.lastChecked = lastChecked;
		this.serverDetails = response;
	}
    
    
    
}
package com.EIS.TCS.apiadmin.Repository;

import org.springframework.data.jpa.repository.JpaRepository;

import com.EIS.TCS.apiadmin.Model.IntegrationStatus;

public interface IntegrationStatusRepository extends JpaRepository<IntegrationStatus, Long> {

}
